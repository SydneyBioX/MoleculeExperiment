<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>MoleculeExperiment class: An S4 class container to store imaging-based
spatial transcriptomics data. — MoleculeExperiment-class • MoleculeExperiment</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="MoleculeExperiment class: An S4 class container to store imaging-based
spatial transcriptomics data. — MoleculeExperiment-class"><meta property="og:description" content="This class enables the analysis of imaging-based ST data at the molecule
level, and standardises data across vendors. The aim of this class is to
facilitate ST data integration and comparison and, importantly, facilitate
common analytical and visualisation workflows."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MoleculeExperiment</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.99.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/MoleculeExperiment.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/SydneyBioX/SpatialUtils/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>MoleculeExperiment class: An S4 class container to store imaging-based
spatial transcriptomics data.</h1>
    <small class="dont-index">Source: <a href="https://github.com/SydneyBioX/SpatialUtils/blob/HEAD/R/AllClasses.R" class="external-link"><code>R/AllClasses.R</code></a>, <a href="https://github.com/SydneyBioX/SpatialUtils/blob/HEAD/R/MoleculeExperiment.R" class="external-link"><code>R/MoleculeExperiment.R</code></a></small>
    <div class="hidden name"><code>MoleculeExperiment.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This class enables the analysis of imaging-based ST data at the molecule
level, and standardises data across vendors. The aim of this class is to
facilitate ST data integration and comparison and, importantly, facilitate
common analytical and visualisation workflows.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">MoleculeExperiment</span><span class="op">(</span><span class="va">molecules</span>, boundaries <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>molecules</dt>
<dd><p>Detected transcripts information in a standardised ME list
format, as is generated by dataframeToMEList() and readMolecules() functions.</p></dd>


<dt>boundaries</dt>
<dd><p>Slot with boundary information in a standardised ME list
format, as is generated by dataframeToMEList() and readBoundaries()
functions.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A MoleculeExperiment object</p>
    </div>
    <div id="slots">
    <h2>Slots</h2>
    

<dl><dt><code>molecules</code></dt>
<dd><p>Slot containing information about the detected transcripts.
This slot is designed as a list of lists, where each sample contains a list
of tibbles with information for each gene. The basic information required
for this slot are the gene names of the transcripts, as well as their x and
y locations.</p></dd>


<dt><code>boundaries</code></dt>
<dd><p>Slot containing the boundaries defining each segmented cell.
The slot is designed as a list of lists, where each sample contains a list
of tibbles for each cell, consisting of the x and y coordinates of the
polygon vertices defining the cell boundary.</p></dd>


</dl></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># creating a simple ME object from toy data</span></span></span>
<span class="r-in"><span><span class="va">molecules_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    sample_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sample1"</span>, <span class="st">"sample2"</span><span class="op">)</span>, times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">20</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    features <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gene1"</span>, <span class="st">"gene2"</span><span class="op">)</span>, times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">30</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    x_coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">50</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    y_coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">boundaries_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    sample_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sample1"</span>, <span class="st">"sample2"</span><span class="op">)</span>, times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">16</span>, <span class="fl">6</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    cell_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cell1"</span>, <span class="st">"cell2"</span>, <span class="st">"cell3"</span>, <span class="st">"cell4"</span>,</span></span>
<span class="r-in"><span>                    <span class="st">"cell1"</span>, <span class="st">"cell2"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">3</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    vertex_x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">22</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    vertex_y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">22</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">molecules_ls</span> <span class="op">&lt;-</span> <span class="fu"><a href="dataframeToMEList.html">dataframeToMEList</a></span><span class="op">(</span><span class="va">molecules_df</span>,</span></span>
<span class="r-in"><span>                                  df_type <span class="op">=</span> <span class="st">"transcripts"</span>,</span></span>
<span class="r-in"><span>                                  assay_name <span class="op">=</span> <span class="st">"detected"</span>,</span></span>
<span class="r-in"><span>                                  sample_col <span class="op">=</span> <span class="st">"sample_id"</span>,</span></span>
<span class="r-in"><span>                                  factor_col <span class="op">=</span> <span class="st">"features"</span>,</span></span>
<span class="r-in"><span>                                  x_col <span class="op">=</span> <span class="st">"x_coords"</span>,</span></span>
<span class="r-in"><span>                                  y_col <span class="op">=</span> <span class="st">"y_coords"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">boundaries_ls</span> <span class="op">&lt;-</span> <span class="fu"><a href="dataframeToMEList.html">dataframeToMEList</a></span><span class="op">(</span><span class="va">boundaries_df</span>,</span></span>
<span class="r-in"><span>                                   df_type <span class="op">=</span> <span class="st">"boundaries"</span>,</span></span>
<span class="r-in"><span>                                   assay_name <span class="op">=</span> <span class="st">"cell"</span>,</span></span>
<span class="r-in"><span>                                   sample_col <span class="op">=</span> <span class="st">"sample_id"</span>,</span></span>
<span class="r-in"><span>                                   factor_col <span class="op">=</span> <span class="st">"cell_id"</span>,</span></span>
<span class="r-in"><span>                                   x_col <span class="op">=</span> <span class="st">"vertex_x"</span>,</span></span>
<span class="r-in"><span>                                   y_col <span class="op">=</span> <span class="st">"vertex_y"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">toy_me</span> <span class="op">&lt;-</span> <span class="fu">MoleculeExperiment</span><span class="op">(</span>molecules <span class="op">=</span> <span class="va">molecules_ls</span>,</span></span>
<span class="r-in"><span>                             boundaries <span class="op">=</span> <span class="va">boundaries_ls</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">toy_me</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> class:  MoleculeExperiment </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 samples: sample1 sample2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> @molecules contents: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -detected assay:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 unique features across all samples in assay "detected": gene1 gene2 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25 molecules on average across all samples in assay "detected"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Location range across all samples in assay "detected": [0.02,0.96] x [0.03,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> @boundaries contents:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -cell:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 unique segment IDs: cell1 cell2 cell3 cell4 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Location range across all samples: [-1.5,1.92] x [-1.52,1.91]</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Bárbara Zita Peters Couto, Nicholas Robertson, Ellis Patrick, Shila Ghazanfar.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

